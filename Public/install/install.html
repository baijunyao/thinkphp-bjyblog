<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Thinkbjy安装程序</title>
<script type="text/javascript" src="../static/js/jquery-2.0.0.min.js"></script>
<link rel="stylesheet" type="text/css" href="../static/bootstrap-3.3.4/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="../static/bootstrap-3.3.4/css/bootstrap-theme.min.css">
<link rel="stylesheet" type="text/css" href="../static/font-awesome-4.3.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="../static/css/bjy.css">
<script type="text/javascript" src="../static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
<!--[if lt IE 9]>
<script type="text/javascript" src="../static/js/html5shiv.min.js"></script>
<script type="text/javascript" src="../static/js/respond.min.js"></script>
<![endif]-->
<script>
$(function(){
	// 下一步按钮
	$('.btn-success').click(function(event) {
		var index=$(this).parents('.box').eq(0).index();
		// alert(index);
		yes=1;
		index=index+1;
		if(index==2){
			if($('.yes').length!=7){
				yes=0;
				str='您的配置或权限不符合要求';
			}
		}else if(index==3){
			$.each($('input'), function(index, val) {
				if($(val).val()==''){
					yes=0;
					str='您有未填写的项';
				}
			});
		}
		// alert(yes);
		if(yes==1){
			$('.box').eq(index).show().siblings('.box').hide();
			$('.schedule').eq(index).addClass('active').siblings('.schedule').removeClass('active');
		}else{
			alert(str);
			return false;

		}

	});
	// 上一步按钮
	$('.btn-primary').click(function(event) {
		var index=$(this).parents('.box').eq(0).index();
		if(index!=0){
			index=index-1;
			$('.box').eq(index).show().siblings('.box').hide();
			$('.schedule').eq(index).addClass('active').siblings('.schedule').removeClass('active');
		}

	});
})

// 下一步点击事件
// function nextClick(obj){

// 	var index=$(obj).parents('.box').eq(0).index();
// 	// alert(index);
// 	var yes=1;
// 	index=index+1;
// 	if(index==2){
// 		if($('.yes').length!=7){
// 			yes=0;
// 			var str='您的配置或权限不符合要求';
// 		}
// 	}else if(index==3){

// 		$.each($('input'), function(index, val) {
// 			if($(val).val()==''){
// 				yes=0;
// 				var str='您有未填写的项';
// 			}
// 		});
// 		// alert(yes);
// 	}
// 	if(yes==1){
// 		$('.box').eq(index).show().siblings('.box').hide();
// 		$('.schedule').eq(index).addClass('active').siblings('.schedule').removeClass('active');
// 	}else{
// 		// alert(222);
// 		return false;
// 		// alert(str);
// 	}
// }

</script>
<link rel="stylesheet" href="./css/install.css">
</head>
<body>
<div id="nav">
	<div class="inside">
		<p class="name">Thinkbjy<span>安装向导</span></p>
		<ul class="schedule active">
			<li class="number">1</li>
			<li class="word">使用协议</li>

		</ul>
		<ul class="schedule">
			<li class="number">2</li>
			<li class="word">环境检测</li>

		</ul>
		<ul class="schedule">
			<li class="number">3</li>
			<li class="word">创建数据</li>

		</ul>
		<ul class="schedule">
			<li class="number">4</li>
			<li class="word">安装完成</li>

		</ul>
	</div>
</div>
<div id="out">
	<div class="inside">
		<div class="box agreement">
			<h2>Thinkbjy V1.0 安装协议</h2>
			<p class="content">
				感谢您使用thinkbjy博客系统，Thinkbjy致力于为您创建一个简单便捷但是功能强大的博客网站。<br>
				您在使用中有任何问题都可以登陆<a href="">thinkbjy官方网站</a>获取帮助。<br>
				Thinkbjy遵循Apache Licence2开源协议，在尊重创作者版权的原则下您可以免费使用或再次开发。<br>
				Apache Licence是著名的非盈利开源组织Apache采用的协议。该协议和BSD类似，鼓励代码共享和尊重原作者的著作权，允许代码修改，再作为开源或商业软件发布。需要满足的条件：<br>
				1． 需要给用户一份Apache Licence ；<br>
				2． 如果你修改了代码，需要在被修改的文件中说明；<br>
				3． 在延伸的代码中（修改和有源代码衍生的代码中）需要带有原来代码中的协议，商标，专利声明和其他原来作者规定需要包含的说明；<br>
				4． 如果再发布的产品中包含一个Notice文件，则在Notice文件中需要带有本协议内容。你可以在Notice中增加自己的许可，但不可以表现为对Apache Licence构成更改。<br>
			</p>
			<p class="agree">
				<button class="btn btn-primary">拒绝</button>
				<button class="btn btn-success" >同意</button>
			</p>
		</div>
		<div class="box test b-display-none">
			<h2>环境监测</h2>
			<table class="table table-border">
				<tr>
					<th width="25%">坏境</th>
					<th width="25%">最低配置</th>
					<th width="25%">当前配置</th>
					<th width="25%">是否符合</th>
				</tr>
				<tr>
					<td>操作系统</td>
					<td>不限</td>
					<td><?php echo php_uname('s'); ?></td>
					<td class="yes">√</td>
				</tr>
				<tr>
					<td>php版本</td>
					<td>&gt;5.3</td>
					<td><?php echo PHP_VERSION ?></td>
					<?php $php_version=explode('.', PHP_VERSION); ?>
					<td class="<?php if($php_version['0']>=5 && $php_version['1']>=3)echo 'yes'; ?>">
						<?php if ($php_version['0']>=5 && $php_version['1']>=3): ?>
							√
						<?php else: ?>
							×
						<?php endif ?>
					</td>
				</tr>
				<tr>
					<td>mysql版本</td>
					<td>&gt;5.0</td>
					<td><?php echo mysql_get_server_info(); ?></td>
					<?php $mysql_version=explode('.', mysql_get_server_info()) ?>
					<td class="<?php if($php_version['0']>=5 && $php_version['1']>=3)echo 'yes'; ?>">
						<?php if ($mysql_version['0']>=5 && $mysql_version['1']>=0): ?>
							√
						<?php else: ?>
							×
						<?php endif ?>
					</td>
				</tr>
			</table>
			<h2>目录权限</h2>
			<table class="table table-border">
				<tr>
					<th width="25%">坏境</th>
					<th width="25%">最低配置</th>
					<th width="25%">当前配置</th>
					<th width="25%">是否符合</th>
				</tr>
				<tr>
					<td>./</td>
					<td>可写</td>
					<td>
						<?php if (is_writable('../../')): ?>
							可写
						<?php else: ?>
							不可写
						<?php endif ?>
					</td>
					<td class="<?php if(is_writable('../../'))echo 'yes'; ?>">
						<?php if (is_writable('../../')): ?>
							√
						<?php else: ?>
							×
						<?php endif ?>
					</td>
				</tr>
				<tr>
					<td>./Upload</td>
					<td>可写</td>
					<td>
						<?php if (is_writable('../../Upload')): ?>
							可写
						<?php else: ?>
							不可写
						<?php endif ?>
					</td>
					<td class="<?php if(is_writable('../../Upload'))echo 'yes'; ?>">
						<?php if (is_writable('../../Upload')): ?>
							√
						<?php else: ?>
							×
						<?php endif ?>
					</td>
				</tr>
				<tr>
					<td>./Runtime</td>
					<td>可写</td>
					<td>
						<?php if (is_writable('../../Runtime')): ?>
							可写
						<?php else: ?>
							不可写
						<?php endif ?>
					</td>
					<td class="<?php if(is_writable('../../Runtime'))echo 'yes'; ?>">
						<?php if (is_writable('../../Runtime')): ?>
							√
						<?php else: ?>
							×
						<?php endif ?>
					</td>
				</tr>
				<tr>
					<td>./Application/Common/Conf</td>
					<td>可写</td>
					<td>
						<?php if (is_writable('../../Application/Common/Conf')): ?>
							可写
						<?php else: ?>
							不可写
						<?php endif ?>
					</td>
					<td class="<?php if(is_writable('../../Application/Common/Conf'))echo 'yes'; ?>">
						<?php if (is_writable('../../Application/Common/Conf')): ?>
							√
						<?php else: ?>
							×
						<?php endif ?>
					</td>
				</tr>
			</table>
			<p class="agree">
				<button class="btn btn-primary">上一步</button>
				<button class="btn btn-success" >下一步</button>
			</p>
		</div>
		<div class="box create b-display-none">
			<form class="form-inline" action="" method="post" >
				<h2>数据库信息</h2>
				<div class="one">
					<label class="control-label">数据库类型</label>
					<input class="form-control" type="text" name="DB_TYPE" value="mysql">
				</div>
				<div class="one">
					<label class="control-label"> 数据库服务器</label>
					<input class="form-control" type="text" name="DB_HOST" value="127.0.0.1">
				</div>
				<div class="one">
					<label class="control-label"> 数据库端口</label>
					<input class="form-control" type="text" name="DB_PORT" value="3306">
				</div>
				<div class="one">
					<label class="control-label">数据库名</label>
					<input class="form-control" type="text" name="DB_NAME">
				</div>
				<div class="one">
					<label class="control-label">数据库用户名</label>
					<input class="form-control" type="text" name="DB_USER" value="root">
				</div>
				<div class="one">
					<label class="control-label"> 数据库密码</label>
					<input class="form-control" type="text" name="DB_PWD">
				</div>
				<div class="one">
					<label class="control-label"> 数据表前缀</label>
					<input class="form-control" type="text" name="DB_PREFIX" value="bjy_">
				</div>
				<!-- <h2>管理员信息</h2>
				<div class="one">
					<label class="control-label">聚焦</label>
					<input class="form-control" type="text">
				</div>
				<div class="one">
					<label class="control-label">聚焦</label>
					<input class="form-control" type="text">
				</div>
				<div class="one">
					<label class="control-label">聚焦</label>
					<input class="form-control" type="text">
				</div> -->
				<p class="agree">
					<input class="btn btn-primary" type="button" value="上一步">
					<input class="btn btn-success"  type="submit" value="确认">
				</p>
			</form>
		</div>
	</div>
</div>

</body>
</html>
